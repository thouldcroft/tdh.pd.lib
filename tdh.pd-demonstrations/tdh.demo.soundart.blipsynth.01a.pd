#N canvas 79 41 787 582 10;
#N canvas 26 23 1254 755 blip_synth 1;
#X obj 237 -399 phasor~;
#X obj 237 -377 *~ 2;
#X obj 237 -355 -~ 1;
#X obj 237 -153 *~;
#X obj 239 -640 inlet;
#X text 288 -639 frequency;
#X obj 650 -643 inlet;
#X text 695 -645 note duration;
#X obj 599 -454 float 250;
#X text 662 -459 <-- store note duration;
#X obj 548 -303 delay 250;
#X obj 449 -381 trigger bang bang;
#X text 617 -303 we delay this bang by the note duration \, because
this bang triggers the decay portion of the amplitude envelope;
#X text 300 -259 starts the note envelope;
#X obj 1143 -647 inlet;
#X text 62 -404 set oscillator frequency-->;
#X obj 314 -192 line~;
#X obj 237 -107 *~;
#X text 274 -109 volume;
#X text 271 -151 envelope;
#X obj 237 -46 outlet~;
#X obj 160 -639 inlet;
#X text 37 -639 trigger (anything);
#X obj 160 -615 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 450 -547 trigger bang bang bang;
#X text 405 -454 trigger to set note duration-->;
#X text 89 -378 builds a bipolar -----> sawtooth wave from unipolar
[phasor~], f 23;
#X text 561 -380 <-- create note based on duration;
#X text 594 -550 <-- first triggered bang silences the oscillator;
#X msg 450 -260 0 \, 0.8 30;
#X msg 549 -259 0 30;
#X msg 580 -521 0 5;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 17 0;
#X connect 4 0 0 0;
#X connect 6 0 8 1;
#X connect 8 0 10 1;
#X connect 10 0 30 0;
#X connect 11 0 29 0;
#X connect 11 1 10 0;
#X connect 14 0 17 1;
#X connect 16 0 3 1;
#X connect 17 0 20 0;
#X connect 21 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 11 0;
#X connect 24 1 8 0;
#X connect 24 2 31 0;
#X connect 29 0 16 0;
#X connect 30 0 16 0;
#X connect 31 0 16 0;
#X restore 158 216 pd blip_synth;
#X obj 158 262 dac~ 1 2;
#X text 374 220 Inlet;
#X text 445 220 Message;
#X text 374 242 0;
#X text 445 242 A frequency value for the note;
#X text 374 262 1;
#X text 374 282 2;
#X text 372 183 [blip_synth] inlets:;
#X text 445 262 Note duration in ms;
#X text 445 282 Volume (0.0-1.0);
#X msg 183 164 440;
#X floatatom 222 165 5 0 0 0 - - -;
#X floatatom 268 166 5 0 0 0 - - -;
#X obj 154 163 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 0 0 1 0;
#X connect 0 0 1 1;
#X connect 11 0 0 1;
#X connect 12 0 0 2;
#X connect 13 0 0 3;
#X connect 14 0 0 0;
